<!DOCTYPE html>
<html>
<head>
    <title>Light Pollution Atlas 2016</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" />
    <link rel="stylesheet" href="L.Control.Range.css" />

    <style>
        body {
            padding: 0;
            margin: 0;
        }
        html, body, #map {
            height: 100%;
            width: 100%;
        }
    </style>

</head>
<body>

    <div id="map"></div>

    <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"></script>
    <script src="L.Control.Range.js"></script>
    
    <script>
      var map = L.map('map').setView([0, 0], 2);
      mapLink = '<a href="http://openstreetmap.org" target="_blank">OpenStreetMap</a>';
      infoLink = '<a href="http://djlorenz.github.io/astronomy/lp2016/" target="_blank">Light Pollution Atlas Information</a>';
      var lightpollution = L.tileLayer(
          'tiles/tile_{z}_{x}_{y}.png', {
           minZoom: 2,
           maxNativeZoom: 8,
           maxZoom: 17,
           tileSize: 1024,
           zoomOffset: -2,
           opacity: 0.5
          })
      layers:[
        L.tileLayer(
          'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
          attribution: '&copy; ' + mapLink + ' Contributors | ' + infoLink,
          maxZoom: 17,
          }).addTo(map),
          lightpollution.addTo(map),
         ]

        var control = L.control.range({
            position: 'topright',
            min: 0,
            max: 100,
            value: 50,
            step: 1,
            orient: 'vertical',
            icon: false
        });
        control.on('change input', function(e) {
            console.log(e.value);
            lightpollution.setOpacity(e.value / 100);
        })

        map.addControl(control);

   </script>

</body>
</html>